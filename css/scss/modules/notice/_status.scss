/*--------------------------------------------------------------
  Module : Notice Status
  Version : 2.0.0
  Gestion automatique via map + mixin
--------------------------------------------------------------*/

/*--------------------------------------------------------------
  Mixin de style générique
--------------------------------------------------------------*/
@mixin notice-status($color, $icon) {
  border-left: solid $color 0.375rem; // 6px
  color: $color;
  background: rgba($color, 0.05);

  &::before {
    content: $icon;
  }

  .notice-title,
  .notice-subtitle,
  a {
    color: $color;
  }

  a {
    text-decoration: none;
    font-weight: 500;
    transition: color 0.2s ease, text-decoration 0.2s ease;
    display: inline-block;
    margin: 0.25em 1em;

    &:hover {
      color: darken($color, 10%);
      text-decoration: underline;
    }
  }
}

/*--------------------------------------------------------------
  Map des statuts
  (clé : nom du statut, valeur : (couleur, icône))
--------------------------------------------------------------*/
$notice-status: (
  info: ($color__blue, '\f05a'),
  error: ($color__red, '\f057'),
  warning: ($color__yellow, '\f071'),
  success: ($color__green, '\f058')
);

/*--------------------------------------------------------------
  Génération automatique des classes
--------------------------------------------------------------*/
.wpeo-notice {
  @each $status, $values in $notice-status {
    $color: nth($values, 1);
    $icon: nth($values, 2);

    &.notice-#{$status} {
      @include notice-status($color, $icon);
    }
  }

  /* Cas particulier : notice-warning.notice-red */
  &.notice-warning.notice-red {
    @include notice-status($color__red, '\f071');

    .notice-title,
    .notice-subtitle,
    a {
      font-size: 1.125rem; // 18px
    }
  }
}
